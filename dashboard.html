<!DOCTYPE html>
<html lang="pt-br">

<head>
    <link rel="shortcut icon" href="Logo Sem marca d'agua.png" type="image/x-icon">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sonho Mágico | Dashboard</title>

    <link rel="stylesheet" href="Logo Sem marca d'agua.png">
    <link rel="stylesheet" href="./../css/dashboards.css">
    <!-- <link rel="stylesheet" href="./../css/estilo.css" /> -->
    <link rel="icon" href="Logo Sem marca d'agua.png">
    <!-- <script src="../js/sessao.js"></script> -->
    <!-- <script src="./../js/alerta.js"></script> -->

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link
        href="https://fonts.googleapis.com/css2?family=Exo+2:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">

    <!-- scripts do Chart.js - 2022-1 -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!--FONT AWESOME-->
    <script src="https://kit.fontawesome.com/9f7414eb10.js" crossorigin="anonymous"></script>
</head>

<!-- <body onload=" atualizarFeed()"> -->

<body class="corFundo">
    <header class="header">
        <div class="divLogo"></div>
        <h1 class="h1">Dashboard</h1>
        <a href="Telaprincipal.html"><button onclick="sair()" class="botaoSair">Sair</button></a>
    </header>

    <!-- <div class="divPainelPrincipal">

            <div class="divPrimeiroGrafico">
            <div class="divListaLivro">
                <canvas id="myChart2" class="GraficoListaLivros"></canvas> -->

    <!-- <ul>Lista de Livros mais lidos: -->
    <!-- <ul>Chapeuzinho Vermelho</ul>
                <ul>Os Três Porquinhos</ul>
                <ul>O Pequeno Príncipe</ul> -->
    <!-- <li>Chapeuzinho Vermelho;</li>
                <li>Os Três Porquinhos;</li>
                <li>O Pequeno Príncipe;</li>
                <li>João e Maria;</li>
            </ul> -->

    <!-- </div>
        <canvas id="myChart" class="GraficoGenero"></canvas>
    </div> -->

    <!-- <div class="divPainelGrafico">
                <canvas id="myChartCanvas1" class="GraficoIdade"></canvas> -->
    <!-- <div class="divGraficoIdade"></div> -->
    <!-- <div class="divGraficoEducacao">

            </div> -->




    <div class="divPainelPrincipal">
        <canvas id="myChartCanvas" class="divGraficoIdade"></canvas>
    </div>

    <!-- <div class="divPainelPrincipal">
        <canvas id="myChartCanvas2" class="divGraficoGenero"></canvas>
        </div> -->

    <div class="divPainelGrafico">
        <canvas id="myChartCanvas3" class="divListaLivro"></canvas>
    </div>


</body>

</html>

<!-- <script style="width: 400px; height: 400px;"> -->
<script>
    // //     const ctx = document.getElementById('myChart');

    // // new Chart(ctx, {
    // //     type: 'bar',
    // //     data: {
    // //         labels: ['Feminino', 'Masculino'],
    // //         datasets: [
    // //         {
    // //             label: 'Gêneros mais cadastrados',
    // //             backgroundColor: 'rgb(139,0,139)',
    // //             borderColor: 'rgb(139,0,139)',
    // //             data: [80, 90, 82, 90, 85, 90,92,100],
    // //             borderWidth: 1
    // //         }]
    // //     },
    // //     options: {
    // //         scales: {
    // //             y: {
    // //                 beginAtZero: true
    // //             }
    // //         }
    // //     }
    // // });

    // // const ctx2 = document.getElementById('myChart2');

    // //     new Chart(ctx2, {
    // //         type: 'bar',
    // //         data: {
    // //             labels: ['Chapeuzinho Vermelho', 'O Pequeno Príncipe', 'João e Maria', 'Os Três Porquinhos'],
    // //             datasets: [
    // //             {
    // //                 label: 'Livros Mais Lidos',
    // //                 backgroundColor: 'rgb(139,0,139)',
    // //                 borderColor: 'rgb(139,0,139)',
    // //                 data: [5, 31, 24, 48],
    // //                 borderWidth: 1
    // //             }]
    // //         },
    // //         options: {
    // //             scales: {
    // //                 y: {
    // //                     beginAtZero: false
    // //                 }
    // //             }
    // //         }
    // //     });

    // //     const ctx3 = document.getElementById('myChart3');

    // //     new Chart(ctx3, {
    // //         type: 'bar',
    // //         data: {
    // //             labels: ['4 anos', '7 anos', '9 anos', '11 anos'],
    // //             datasets: [
    // //             {
    // //                 label: 'Idades das crianças Cadastradas',
    // //                 backgroundColor: 'rgb(139,0,139)',
    // //                 borderColor: 'rgb(139,0,139)',
    // //                 data: [5, 12, 15, 20],
    // //                 borderWidth: 1
    // //             }]
    // //         },
    // //         options: {
    // //             scales: {
    // //                 y: {
    // //                     beginAtZero: false
    // //                 }
    // //             }
    // //         }
    // //     });

    // // b_usuario.innerHTML = sessionStorage.NOME_USUARIO;


    // // Gráfico 1
    // let proximaAtualizacao;

    // idUsuario = sessionStorage.ID_USUARIO;
    // // window.onload = obterDadosGrafico();


    // // O gráfico é construído com três funções:
    // // 1. obterDadosGrafico -> Traz dados do Banco de Dados para montar o gráfico da primeira vez
    // // 2. plotarGrafico -> Monta o gráfico com os dados trazidos e exibe em tela
    // // 3. atualizarGrafico -> Atualiza o gráfico, trazendo novamente dados do Banco

    // // Esta função *obterDadosGrafico* busca os últimos dados inseridos em tabela de medidas.
    // // para, quando carregar o gráfico da primeira vez, já trazer com vários dados.
    // // A função *obterDadosGrafico* também invoca a função *plotarGrafico*

    // //     Se quiser alterar a busca, ajuste as regras de negócio em src/controllers
    // //     Para ajustar o "select", ajuste o comando sql em src/models
    // function obterDadosGrafico(idUsuario) {
    //     var idUsuario = sessionStorage.ID_USUARIO;
    //     // alterarTitulo(idAquario)

    //     // if (proximaAtualizacao != undefined) {
    //     //     clearTimeout(proximaAtualizacao);
    //     // }

    //     fetch(`/medidas/ultimas/${idUsuario}`, { cache: 'no-store' }).then(function (response) {
    //         if (response.ok) {
    //             response.json().then(function (resposta) {
    //                 console.log(`Dados recebidos: ${JSON.stringify(resposta)}`);
    //                 resposta.reverse();

    //                 plotarGrafico(resposta, idUsuario);

    //             });
    //         } else {
    //             console.error('Nenhum dado encontrado ou erro na API');
    //         }
    //     })
    //         .catch(function (error) {
    //             console.error(`Erro na obtenção dos dados p/ gráfico: ${error.message}`);
    //         });
    // }

    // // Esta função *plotarGrafico* usa os dados capturados na função anterior para criar o gráfico
    // // Configura o gráfico (cores, tipo, etc), materializa-o na página e, 
    // // A função *plotarGrafico* também invoca a função *atualizarGrafico*
    // function plotarGrafico(resposta, idUsuario) {

    //     console.log('iniciando plotagem do gráfico...');

    //     // Criando estrutura para plotar gráfico - labels
    //     let labels = [];
    //     let idades = [];
    //     let generos = [];

    //     var lista_idades = []
    //     var lista_generos = []

    //     // Inserindo valores recebidos em estrutura para plotar o gráfico
    //     for (var i = 0; i < resposta.length; i++) {
    //         var registro = resposta[i];
    //         lista_idades.push(registro.idade);
    //         lista_generos.push(registro.genero);
    //         // dados.datasets[1].data.push(registro.genero);
    //         // dados.datasets[1].data.push(registro.idade);

    //     }

    //     // Inserindo valores recebidos em estrutura para plotar o gráfico
    //     // for (i = 0; i < resposta.length; i++) {
    //     //     var registro = resposta[i];
    //     //     labels.push(registro.idade);
    //     //     dados.datasets[0].data.push(registro.idade);
    //     //     // dados.datasets[1].data.push(registro.genero);
    //     //     // dados.datasets[1].data.push(registro.idade);

    //     // }
    //     // Criando estrutura para plotar gráfico - dados
    //     let dados = {
    //         labels: lista_generos,
    //         datasets: [{
    //             label: 'Idade das Crianças Cadastradas',
    //             data: lista_idades,
    //             fill: false,
    //             borderColor: 'rgb(75, 192, 192)',
    //             tension: 0.1
    //         }
    //         ]
    //     };

    //     console.log('----------------------------------------------')
    //     console.log('Estes dados foram recebidos pela funcao "obterDadosGrafico" e passados para "plotarGrafico":')
    //     console.log(resposta)


    //     console.log('----------------------------------------------')
    //     console.log('O gráfico será plotado com os respectivos valores:')
    //     console.log('Labels:')
    //     console.log(labels)
    //     console.log('Dados:')
    //     console.log(dados.datasets)
    //     console.log('----------------------------------------------')

    //     // Criando estrutura para plotar gráfico - config
    //     const config = {
    //         type: 'bar',
    //         data: dados,
    //     };

    //     // Adicionando gráfico criado em div na tela
    //     let myChart = new Chart(
    //         document.getElementById(`myChartCanvas`),
    //         config
    //     );

    //     // setTimeout(() => atualizarGrafico(idAquario, dados, myChart), 2000);
    // }


    // // Esta função *atualizarGrafico* atualiza o gráfico que foi renderizado na página,
    // // buscando a última medida inserida em tabela contendo as capturas, 

    // //     Se quiser alterar a busca, ajuste as regras de negócio em src/controllers
    // //     Para ajustar o "select", ajuste o comando sql em src/models
    // function atualizarGrafico(idUsuario, dados, myChart) {



    //     fetch(`/medidas/tempo-real/${idUsuario}`, { cache: 'no-store' }).then(function (response) {
    //         if (response.ok) {
    //             response.json().then(function (novoRegistro) {

    //                 obterdadosGrafico(idUsuario);
    //                 // alertar(novoRegistro, idAquario);
    //                 console.log(`Dados recebidos: ${JSON.stringify(novoRegistro)}`);
    //                 console.log(`Dados atuais do gráfico:`);
    //                 console.log(dados);

    //                 let avisoCaptura = document.getElementById(`avisoCaptura${idUsuario}`)
    //                 avisoCaptura.innerHTML = ""


    //                 if (novoRegistro[0].idade == dados.labels[dados.labels.length - 1]) {
    //                     console.log("---------------------------------------------------------------")
    //                     console.log("Como não há dados novos para captura, o gráfico não atualizará.")
    //                     avisoCaptura.innerHTML = "<i class='fa-solid fa-triangle-exclamation'></i> Foi trazido o dado mais atual capturado pelo sensor. <br> Como não há dados novos a exibir, o gráfico não atualizará."
    //                     console.log("Horário do novo dado capturado:")
    //                     console.log(novoRegistro[0].idade)
    //                     console.log("Horário do último dado capturado:")
    //                     console.log(dados.labels[dados.labels.length - 1])
    //                     console.log("---------------------------------------------------------------")
    //                 } else {
    //                     // tirando e colocando valores no gráfico
    //                     dados.labels.shift(); // apagar o primeiro
    //                     dados.labels.push(novoRegistro[0].idade); // incluir um novo momento

    //                     dados.datasets[0].data.shift();  // apagar o primeiro de umidade
    //                     dados.datasets[0].data.push(novoRegistro[0].idade); // incluir uma nova medida de umidade

    //                     dados.datasets[1].data.shift();  // apagar o primeiro de temperatura
    //                     dados.datasets[1].data.push(novoRegistro[0].idade); // incluir uma nova medida de temperatura

    //                     myChart.update();
    //                 }

    //                 // Altere aqui o valor em ms se quiser que o gráfico atualize mais rápido ou mais devagar
    //                 // proximaAtualizacao = setTimeout(() => atualizarGrafico(idAquario, dados, myChart), 2000);
    //             });
    //         } else {
    //             console.error('Nenhum dado encontrado ou erro na API');
    //             // Altere aqui o valor em ms se quiser que o gráfico atualize mais rápido ou mais devagar
    //             // proximaAtualizacao = setTimeout(() => atualizarGrafico(idAquario, dados, myChart), 2000);
    //         }
    //     })
    //         .catch(function (error) {
    //             console.error(`Erro na obtenção dos dados p/ gráfico: ${error.message}`);
    //         });

    // }



    // // Gráfico 2
    // //     let proximaAtualizacao2;

    // //      idUsuario = sessionStorage.ID_USUARIO;
    // //      window.onload = obterDadosGrafico2;

    // //      function obterDadosGrafico2(idUsuario) {
    // //         var idUsuario = sessionStorage.ID_USUARIO;

    // //         fetch(`/medidas/ultimas2/${idUsuario}`, { cache: 'no-store' }).then(function (response) {
    // //             if (response.ok) {
    // //                 response.json().then(function (resposta) {
    // //                     console.log(`Dados recebidos: ${JSON.stringify(resposta)}`);
    // //                     resposta.reverse();

    // //                     plotarGrafico2(resposta, idUsuario);

    // //                 });
    // //             } else {
    // //                 console.error('Nenhum dado encontrado ou erro na API');
    // //             }
    // //         })
    // //             .catch(function (error) {
    // //                 console.error(`Erro na obtenção dos dados p/ gráfico: ${error.message}`);
    // //             });
    // //     }


    // //     function plotarGrafico2(resposta, idUsuario) {

    // //     console.log('iniciando plotagem do gráfico...');

    // //     let labels = [];
    // //     let generos = [];

    // //     let dados = {
    // //             labels: labels,
    // //             datasets: [{
    // //                 label: 'Gênero das Crianças Cadastradas',
    // //                 data: [],
    // //                 fill: false,
    // //                 borderColor: 'rgb(75, 192, 192)',
    // //                 tension: 0.1
    // //             }
    // //             ]
    // //         };

    // //         console.log('----------------------------------------------')
    // //         console.log('Estes dados foram recebidos pela funcao "obterDadosGrafico" e passados para "plotarGrafico":')
    // //         console.log(resposta)

    // //         for (i = 0; i < resposta.length; i++) {
    // //             var registro = resposta[i];
    // //             labels.push(registro.genero);
    // //             dados.datasets[0].data.push(registro.genero);
    // //             // dados.datasets[1].data.push(registro.idade);
    // //         }

    // //         console.log('----------------------------------------------')
    // //         console.log('O gráfico será plotado com os respectivos valores:')
    // //         console.log('Labels:')
    // //         console.log(labels)
    // //         console.log('Dados:')
    // //         console.log(dados.datasets)
    // //         console.log('----------------------------------------------')

    // //         const config = {
    // //             type: 'bar',
    // //             data: dados,
    // //         };

    // //         let myChart2 = new Chart(
    // //             document.getElementById(`myChartCanvas2`),
    // //             config
    // //         );
    // //     }

    // //     function atualizarGrafico2(idUsuario, dados , myChart2) {



    // // fetch(`/medidas/tempo-real2/${idUsuario}`, { cache: 'no-store' }).then(function (response) {
    // //     if (response.ok) {
    // //         response.json().then(function (novoRegistro) {

    // //             obterdadosGrafico2(idUsuario);
    // //             // alertar(novoRegistro, idAquario);
    // //             console.log(`Dados recebidos: ${JSON.stringify(novoRegistro)}`);
    // //             console.log(`Dados atuais do gráfico:`);
    // //             console.log(dados);

    // //             let avisoCaptura = document.getElementById(`avisoCaptura${idUsuario}`)
    // //             avisoCaptura.innerHTML = ""


    // //             if (novoRegistro[0].genero == dados.labels[dados.labels.length - 1]) {
    // //                 console.log("---------------------------------------------------------------")
    // //                 console.log("Como não há dados novos para captura, o gráfico não atualizará.")
    // //                 avisoCaptura.innerHTML = "<i class='fa-solid fa-triangle-exclamation'></i> Foi trazido o dado mais atual capturado pelo sensor. <br> Como não há dados novos a exibir, o gráfico não atualizará."
    // //                 console.log("Horário do novo dado capturado:")
    // //                 console.log(novoRegistro[0].genero)
    // //                 console.log("Horário do último dado capturado:")
    // //                 console.log(dados.labels[dados.labels.length - 1])
    // //                 console.log("---------------------------------------------------------------")
    // //             } else {
    // //                 // tirando e colocando valores no gráfico
    // //                 dados.labels.shift();  // apagar o primeiro
    // //                 dados.labels.push(novoRegistro[0].genero);//  incluir um novo momento

    // //                 dados.datasets[0].data.shift();  // apagar o primeiro de umidade
    // //                 dados.datasets[0].data.push(novoRegistro[0].genero); // incluir uma nova medida de umidade

    // //                 dados.datasets[1].data.shift();  // apagar o primeiro de temperatura
    // //                 dados.datasets[1].data.push(novoRegistro[0].genero); // incluir uma nova medida de temperatura

    // //                 myChart2.update();
    // //             }

    // //             // Altere aqui o valor em ms se quiser que o gráfico atualize mais rápido ou mais devagar
    // //             // proximaAtualizacao = setTimeout(() => atualizarGrafico(idAquario, dados, myChart), 2000);
    // //         });
    // //     } else {
    // //         console.error('Nenhum dado encontrado ou erro na API');
    // //         // Altere aqui o valor em ms se quiser que o gráfico atualize mais rápido ou mais devagar
    // //         // proximaAtualizacao = setTimeout(() => atualizarGrafico(idAquario, dados, myChart), 2000);
    // //     }
    // // })
    // //     .catch(function (error) {
    // //         console.error(`Erro na obtenção dos dados p/ gráfico: ${error.message}`);
    // //     });

    // // }



    // // Gráfico 3

    // // let proximaAtualizacao3;

    // // idLivro = sessionStorage.ID_LIVRO;
    // // window.onload = obterDadosGrafico3();

    // function obterDadosGrafico3(idLivro) {
    //     var idLivro = sessionStorage.ID_LIVRO;

    //     fetch(`/medidas/ultimas3/${idLivro}`, { cache: 'no-store' }).then(function (response) {
    //         if (response.ok) {
    //             response.json().then(function (resposta) {
    //                 console.log(`Dados recebidos: ${JSON.stringify(resposta)}`);
    //                 resposta.reverse();

    //                 plotarGrafico3(resposta);

    //             });
    //         } else {
    //             console.error('Nenhum dado encontrado ou erro na API');
    //         }
    //     })
    //         .catch(function (error) {
    //             console.error(`Erro na obtenção dos dados p/ gráfico: ${error.message}`);
    //         });
    // }


    // function plotarGrafico3() {

    //     let dados = {
    //         labels: lista_livros,
    //         datasets: [{
    //             label: 'Quantidade de Pesquisas dos Livros por Pessoa',
    //             data: lista_pesquisas,
    //             fill: false,
    //             borderColor: 'rgb(75, 192, 192)',
    //             tension: 0.1
    //         }
    //         ]
    //     };

    //     const config = {
    //         type: 'bar',
    //         data: dados,
    //     };

    //     let myChart3 = new Chart(
    //         document.getElementById(`myChartCanvas3`),
    //         config
    //     );
    // }

    // function atualizarGrafico3(dados, myChart3) {



    //     fetch(`/medidas/tempo-real3/${idLivro}`, { cache: 'no-store' }).then(function (response) {
    //         if (response.ok) {
    //             response.json().then(function (novoRegistro) {

    //                 obterdadosGrafico3(idLivro);
    //                 alertar(novoRegistro, idAquario);
    //                 console.log(`Dados recebidos: ${JSON.stringify(novoRegistro)}`);
    //                 console.log(`Dados atuais do gráfico:`);
    //                 console.log(dados);

    //                 let avisoCaptura = document.getElementById(`avisoCaptura${idUsuario}`)
    //                 avisoCaptura.innerHTML = ""


    //                 if (novoRegistro[0].qtdlivro == dados.labels[dados.labels.length - 1]) {
    //                     console.log("---------------------------------------------------------------")
    //                     console.log("Como não há dados novos para captura, o gráfico não atualizará.")
    //                     avisoCaptura.innerHTML = "<i class='fa-solid fa-triangle-exclamation'></i> Foi trazido o dado mais atual capturado pelo sensor. <br> Como não há dados novos a exibir, o gráfico não atualizará."
    //                     console.log("Horário do novo dado capturado:")
    //                     console.log(novoRegistro[0].qtdlivro)
    //                     console.log("Horário do último dado capturado:")
    //                     console.log(dados.labels[dados.labels.length - 1])
    //                     console.log("---------------------------------------------------------------")
    //                 } else {
    //                     // tirando e colocando valores no gráfico
    //                     dados.labels.shift();
    //                     // apagar o primeiro
    //                     dados.labels.push(novoRegistro[0].qtdlivro);
    //                     //  incluir um novo momento

    //                     dados.datasets[0].data.shift();
    //                     //  apagar o primeiro de umidade
    //                     dados.datasets[0].data.push(novoRegistro[0].qtdlivro);
    //                     // incluir uma nova medida de umidade

    //                     dados.datasets[1].data.shift();
    //                     //  apagar o primeiro de temperatura
    //                     dados.datasets[1].data.push(novoRegistro[0].qtdlivro);
    //                     //  incluir uma nova medida de temperatura

    //                     myChart3.update();
    //                 }

    //                 // Altere aqui o valor em ms se quiser que o gráfico atualize mais rápido ou mais devagar
    //                 // proximaAtualizacao = setTimeout(() => atualizarGrafico(idAquario, dados, myChart), 2000);
    //             });
    //         } else {
    //             console.error('Nenhum dado encontrado ou erro na API');
    //             // Altere aqui o valor em ms se quiser que o gráfico atualize mais rápido ou mais devagar
    //             // proximaAtualizacao = setTimeout(() => atualizarGrafico(idAquario, dados, myChart), 2000);
    //         }
    //     })
    //         .catch(function (error) {
    //             console.error(`Erro na obtenção dos dados p/ gráfico: ${error.message}`);
    //         });

    // }







    // async function criarGraficosPesquisas() {
    //     await procurarPesquisas();
    //     plotarGrafico3();
    // }

    // var lista_pesquisas = [];
    // var lista_livros = ['Chapeuzinho Vermelho', 'O Pequeno Príncipe', 'Os Três Porquinhos', 'João e Maria'];
    // criarGraficosPesquisas()
    // function procurarPesquisas() {
    //     for (var i = 1; i <= lista_livros.length; i++) {

    //         fetch(`/livro/procurarLivros/${i}`, {
    //             method: "GET",
    //             headers: {
    //                 "Content-Type": "application/json"
    //             }
    //         }).then(function (resposta) {
    //             console.log("ESTOU NO THEN DO procurarLivros()!")

    //             if (resposta.ok) {
    //                 console.log(resposta);

    //                 resposta.json().then((json) => {
    //                     console.log(json);
    //                     var dados = json.quantidadePesquisas;
    //                     lista_pesquisas.push(dados);
    //                 });

    //             } else {

    //                 console.log("Houve um erro ao tentar procurar os livros!");

    //                 resposta.text().then(texto => {
    //                     console.error(texto);
    //                 });
    //             }

    //         }).catch(function (erro) {
    //             console.log(erro);
    //         })
    //     }
    // }






















// GRAFICO CRIANÇAS
pegarCriancas();
    function pegarCriancas() {


        fetch(`/medidas/ultimas`, { cache: 'no-store' }).then(function (response) {
            if (response.ok) {
                response.json().then(function (resposta) {
                    console.log(`Dados recebidos: ${JSON.stringify(resposta)}`);
                    resposta.reverse();

                    plotarGraficoCriancas(resposta);

                });
            } else {
                console.error('Nenhum dado encontrado ou erro na API');
            }
        })
            .catch(function (error) {
                console.error(`Erro na obtenção dos dados p/ gráfico: ${error.message}`);
            });
    }

    function plotarGraficoCriancas(resposta) {

        var lista_idades = []
        var lista_generos = []

        // Inserindo valores recebidos em estrutura para plotar o gráfico
        for (var i = 0; i < resposta.length; i++) {
            var registro = resposta[i];
            lista_idades.push(registro.idade);
            lista_generos.push(registro.genero);

        }

        let dados = {
            labels: lista_generos,
            datasets: [{
                label: 'Idade das Crianças Cadastradas',
                data: lista_idades,
                fill: false,
                borderColor: 'rgb(75, 192, 192)',
                tension: 0.1
            }
            ]
        };

        // Criando estrutura para plotar gráfico - config
        const config = {
            type: 'bar',
            data: dados,
        };

        // Adicionando gráfico criado em div na tela
        let myChart = new Chart(
            document.getElementById(`myChartCanvas`),
            config
        );

    }















// GRAFICO LIVRO

procurarPesquisasLivro1();

    var lista_pesquisas = [];
    var lista_livros = ['Chapeuzinho Vermelho', 'O Pequeno Príncipe', 'Os Três Porquinhos', 'João e Maria'];
    function procurarPesquisasLivro1() {
        fetch(`/livro/procurarLivros/1`, {
                method: "GET",
                headers: {
                    "Content-Type": "application/json"
                }
            }).then(function (resposta) {
                console.log("ESTOU NO THEN DO procurarLivros()!")

                if (resposta.ok) {
                    console.log(resposta);

                    resposta.json().then((json) => {
                        console.log(json);
                        var dados = json.quantidadePesquisas;
                        lista_pesquisas.push(dados);
                        procurarPesquisasLivro2()
                    });

                } else {

                    console.log("Houve um erro ao tentar procurar os livros!");

                    resposta.text().then(texto => {
                        console.error(texto);
                    });
                }

            }).catch(function (erro) {
                console.log(erro);
            })
    }


    function procurarPesquisasLivro2() {
        fetch(`/livro/procurarLivros/2`, {
                method: "GET",
                headers: {
                    "Content-Type": "application/json"
                }
            }).then(function (resposta) {
                console.log("ESTOU NO THEN DO procurarLivros()!")

                if (resposta.ok) {
                    console.log(resposta);

                    resposta.json().then((json) => {
                        console.log(json);
                        var dados = json.quantidadePesquisas;
                        lista_pesquisas.push(dados);
                        procurarPesquisasLivro3()
                    });

                } else {

                    console.log("Houve um erro ao tentar procurar os livros!");

                    resposta.text().then(texto => {
                        console.error(texto);
                    });
                }

            }).catch(function (erro) {
                console.log(erro);
            })
    }


    function procurarPesquisasLivro3() {
        fetch(`/livro/procurarLivros/3`, {
                method: "GET",
                headers: {
                    "Content-Type": "application/json"
                }
            }).then(function (resposta) {
                console.log("ESTOU NO THEN DO procurarLivros()!")

                if (resposta.ok) {
                    console.log(resposta);

                    resposta.json().then((json) => {
                        console.log(json);
                        var dados = json.quantidadePesquisas;
                        lista_pesquisas.push(dados);
                        procurarPesquisasLivro4()
                    });

                } else {

                    console.log("Houve um erro ao tentar procurar os livros!");

                    resposta.text().then(texto => {
                        console.error(texto);
                    });
                }

            }).catch(function (erro) {
                console.log(erro);
            })
    }


    function procurarPesquisasLivro4() {
        fetch(`/livro/procurarLivros/4`, {
                method: "GET",
                headers: {
                    "Content-Type": "application/json"
                }
            }).then(function (resposta) {
                console.log("ESTOU NO THEN DO procurarLivros()!")

                if (resposta.ok) {
                    console.log(resposta);

                    resposta.json().then((json) => {
                        console.log(json);
                        var dados = json.quantidadePesquisas;
                        lista_pesquisas.push(dados);
                        plotarGraficoLivro()
                    });

                } else {

                    console.log("Houve um erro ao tentar procurar os livros!");

                    resposta.text().then(texto => {
                        console.error(texto);
                    });
                }

            }).catch(function (erro) {
                console.log(erro);
            })
    }


    function plotarGraficoLivro() {

        let dados = {
            labels: lista_livros,
            datasets: [{
                label: 'Quantidade de Pesquisas dos Livros por Pessoa',
                data: lista_pesquisas,
                fill: false,
                borderColor: 'rgb(75, 192, 192)',
                tension: 0.1
            }
            ]
        };

        const config = {
            type: 'bar',
            data: dados,
        };

        let myChart3 = new Chart(
            document.getElementById(`myChartCanvas3`),
            config
        );
    }


</script>